[
  {
    "path": "posts/2022-05-14-webscraping/",
    "title": "Web-scraping with rvest",
    "description": "Websraping with R and rvest is very convenient",
    "author": [
      {
        "name": "Sitendu Goswami",
        "url": {}
      }
    ],
    "date": "2022-05-14",
    "categories": [],
    "contents": "\nThe Internet is filled with a lot of information and as data\nenthusiasts it is our sacred duty to get data from wherever we can. Some\nwebsites provide access to their data through apis, while others are not\nas forthcoming. First we load the packages\n\n\nlibrary(rvest)\nlibrary(httr)\nlibrary(htmltools)\nlibrary(stringr)\nlibrary(tidyverse)\n\n\n\nThere is a nice website called 91wheels, that helps us look at car\nprices and compare between them. We shall use this website to gather\nupdated car prices, which we shall use for downstream analyses.\nThe first step is to identify the website and copy its entire url.\nNext, we use the “read_html” function to read the entire webpage. This\nis how webscraping works, since HTML is a language to display content on\nwebpages, it has tags for all relevant content that we see anywhere.\nSince most of the times, the data of our interest is in text format, we\ncan gather the relevant information by reading the entire webpage.\n\n\ntiago<- read_html(\"https://www.91wheels.com/cars/between-5-lakh-to-10-lakh\")\n\n\n\nIn the next step, I use the selectogadget in chrome extension market\nto find out the xml path to the two variables of my target i.e. car name\nand car price range.\n\n\nprice<- tiago |> html_nodes(\"._cardofcar_price__3qcNH\") |> html_text() \nprice1<- price |> str_remove_all(\"[:alpha:]\") |> str_remove_all(\"^\\\\W\") |> as_tibble()\nname<- tiago |> html_nodes(\"._cardofcar_titleName__2ZokJ\") |> html_text() |>  as_tibble()\n\n\n\nNow we have two tibbles called “name” and “price1” that have all the\nrelevant information we need to create the dataset. But if we look at\nthe two tibbles, we can see that we are long way from clean data that is\nready for analysis\n\n\nhead(name) # This tibble is fine since car names are character variables\n\n\n# A tibble: 6 × 1\n  value               \n  <chr>               \n1 \"  KIA Carens  \"    \n2 \"  Tata Punch  \"    \n3 \"  Tata Nexon  \"    \n4 \"  KIA Sonet  \"     \n5 \"  Hyundai Venue  \" \n6 \"  Nissan Magnite  \"\n\nhead(price1) # We want a single car price without any other strings and annoyiung characters like the rupee symbol\n\n\n# A tibble: 6 × 1\n  value                \n  <chr>                \n1 \"₹ 9.60  - ₹ 17.70  \"\n2 \"₹ 5.68  - ₹ 9.49  \" \n3 \"₹ 7.43  - ₹ 13.74  \"\n4 \"₹ 7.15  - ₹ 13.79  \"\n5 \"₹ 6.99  - ₹ 11.72  \"\n6 \"₹ 5.76  - ₹ 10.15  \"\n\n\n\nprice1<- price1 |> separate(value, into= c(\"lower\", \"higher\"), sep = \"-\")\nhead(price1)\n\n\n# A tibble: 6 × 2\n  lower      higher      \n  <chr>      <chr>       \n1 \"₹ 9.60  \" \" ₹ 17.70  \"\n2 \"₹ 5.68  \" \" ₹ 9.49  \" \n3 \"₹ 7.43  \" \" ₹ 13.74  \"\n4 \"₹ 7.15  \" \" ₹ 13.79  \"\n5 \"₹ 6.99  \" \" ₹ 11.72  \"\n6 \"₹ 5.76  \" \" ₹ 10.15  \"\n\nNow we join the car names with the prices to get a data set that is\nshaping up nicely. We can use the “bind_cols” or “cbind” functions to\njoin them.\n\n\nfinal<- bind_cols(name, price1)\nhead(final)\n\n\n# A tibble: 6 × 3\n  value                lower      higher      \n  <chr>                <chr>      <chr>       \n1 \"  KIA Carens  \"     \"₹ 9.60  \" \" ₹ 17.70  \"\n2 \"  Tata Punch  \"     \"₹ 5.68  \" \" ₹ 9.49  \" \n3 \"  Tata Nexon  \"     \"₹ 7.43  \" \" ₹ 13.74  \"\n4 \"  KIA Sonet  \"      \"₹ 7.15  \" \" ₹ 13.79  \"\n5 \"  Hyundai Venue  \"  \"₹ 6.99  \" \" ₹ 11.72  \"\n6 \"  Nissan Magnite  \" \"₹ 5.76  \" \" ₹ 10.15  \"\n\nStill the pesky rupee symbol continues to pursue us. Notice there are\nspaces around the rupee symbol which we can use to separate the column\ninto multiple columns and then select the column which only contains the\nnumeric vector of price. Moreover, the higher and lower prices of the\ncar should have been changed to a numeric vector by now.\n\n\nfinal_prices<- final |> separate(lower, into = c(\"symbol\", \"lower\", \"space\"), sep = \" \") |> select(value,lower, higher )|> \n  separate(higher, into = c(\"symbol\", \"space\", \"higher\"), sep = \" \") |> \n  select(value,lower, higher ) |> \n  mutate(lower = as.double(lower),\n         higher = as.double(higher))\nhead(final_prices)\n\n\n# A tibble: 6 × 3\n  value                lower higher\n  <chr>                <dbl>  <dbl>\n1 \"  KIA Carens  \"      9.6   17.7 \n2 \"  Tata Punch  \"      5.68   9.49\n3 \"  Tata Nexon  \"      7.43  13.7 \n4 \"  KIA Sonet  \"       7.15  13.8 \n5 \"  Hyundai Venue  \"   6.99  11.7 \n6 \"  Nissan Magnite  \"  5.76  10.2 \n\nfinal_prices |> knitr::kable(type = \"html\") # our final output looks like this.\n\n\nvalue\nlower\nhigher\nKIA Carens\n9.60\n17.70\nTata Punch\n5.68\n9.49\nTata Nexon\n7.43\n13.74\nKIA Sonet\n7.15\n13.79\nHyundai Venue\n6.99\n11.72\nNissan Magnite\n5.76\n10.15\nTata Altroz\n6.00\n10.00\nTata Tiago\n5.23\n7.33\nToyota Glanza\n6.39\n9.69\nMG Astor\n9.98\n17.73\nRenault Kiger\n5.84\n10.39\nHonda Amaze\n6.44\n11.27\nVolkswagen Virtus\n10.00\n10.50\nKIA Sonet CNG\n11.00\n13.00\nTata Curvv\n20.00\nNA\nTata Avinya EV\n15.00\n20.00\nTata Blackbird\n11.00\n15.00\nJeep Meridian\n30.00\nNA\nMahindra Scorpio 2022\n12.00\n17.00\nToyota Land Cruiser\n1.50\nNA\nTata HEXA\n14.00\n20.00\nAudi Q3\n40.00\nNA\nBugatti Chiron\n19.21\n21.22\nCitroen C3\n7.00\n9.00\n\n\n\n\n",
    "preview": {},
    "last_modified": "2022-05-14T00:44:45+05:30",
    "input_file": {}
  },
  {
    "path": "posts/2022-05-12-harsil-trip/",
    "title": "Harsil trip",
    "description": "A birding trip to Harsil, Uttarakhand, India.",
    "author": [
      {
        "name": "Sitendu Goswami",
        "url": {}
      }
    ],
    "date": "2022-05-12",
    "categories": [],
    "contents": "\nHarsil valley2022 was the year of fresh starts, for most of us, who have been\nconfined to their homes for the past two years since the covid-19\npandemic. We (Manjari and myself) had a mildly productive year in 2021,\nand managed to submit our respective Doctoral theses for review. As we\nwrapped up the rest of our academic obligations we had window of\nopportunity to visit Harsil. We came to know of Harsil from Ankita\nSinha, who studied riverine birds and their ecology along several\nHimalayan rivers and had intimate knowledge of Harsil. Over the years,\nshe would tell us about the rare birds she had encountered in that area.\nUnfortunately, we could not find time from our own field obligations to\nvisit this beautiful valley. A long weekend holiday of four days was\nround the corner, and we wanted to make good use of it. We packed our\nbags and called Ankita to let her know of our plans. She graciously\ncommunicated with her local contacts and arranged for hotel rooms at\ndiscounted prices for us. Next we called up local cab owners and\narranged for a pickup and drop deal. Mr. Asif from Turner road, agreed\nto drop us at Harsil for INR5500, which was quite deal since most of the\nother drivers were quoting figures close to twice the amount. We started\nour journey from Dehradun at 6am Thursday, April 14. The distance to\nHrsil is about 250 kilometers but most of the road is through hilly\nregions and hence it translates to about the same as travelling 500kms\non the plains. Thankfully we had an early start. Mr. Asif was a long\ntime resident of Dehradun and on the way to Harsil he narrated several\nstories of his exploits and kept us entertained. Like typical Doonites,\nthe three of us kept on blaming everyone else for ruining and polluting\nthe beautiful valley. Our conversations started from the lost green\ncover of Dehradun to the unsightly expansion of the city that all of us\nhave grown to love.\nBirds\nEveryone has different priorities for choosing their vacation spots.\nWe have two primary criteria, the location should not be overtly\ntouristy, and it should have good spots for birding. Harsil falls on the\ncircuit of the char-dham yatra, and during that time the place is\nflooded with pilgrims from all over the country trying to score brownie\npoints with their respective saviours. We planned our trip before the\ncommencement of the Char-dham yatra and hence were saved from the\nmad-rush. Harsil is a great place to some rare himalayan birds and we\nhave been told so by several of our colleagues at Wildlife Institute of\nIndia. Hence Harsil was a no-brainer.\nWe had seen beautiful himalayan villages before during our trekking\ntrips around uttarakhand but nothing prepared us for the beauty of\nHarsil. We spent every waking moment awestruck by the majesty of vast\nsnow-clad himalayan peaks. It was humbling to grasp that the life-giving\nGanga has its origins nearby and\nCoal tit\nCoal titWater pipit\nWater pipitGrey wagtail\nGrey wagtailBrown Dipper\nBrown dipperIBISBILL\nIbisbillEuropean Goldfinch\nEuropean goldfinchSiberian Stonechat\nSiberian stonechatThe Views\nBirds aside, Harsil is a beautiful place. The village of Harsil falls\non a ancient trade route that connects India with Tibet. The ancient\nvillages of Harsil, Mukba, and Jhala still have old routes that connect\nit to surrounding countries. First day of the trip we set out to visit\nthe village of Mukhba/Mukba. The Hindu diety Ganga who is the embodiment\nof the Holy river Ganga that nurtures major parts of India has her\nprimary temple at Gangotri. During the Char-dham yatra pilgrims come to\nvisit Ganga and seek her blessings. For most parts of the year, the\nstatue of the diety stays in Gangotri, and it is shifted to Mukhba\nduring the harsh winter months. When we were visiting Harsil, the diety\nwas presiding at Mukhba and we had the golden opportunity to get her\nblessings.\nAfter visiting the temple, we crossed a bridge to village of Dharali.\nWhile Mukhba is situated higher up on one side of the hill, Dharali is\nat the same level as the river and has numerous apple orchards.\nThe road from Harsil goes to\nGangotri via Dharali, so it was a brisk walk back to Harsil.\nDay 2\nThis day we decided to go off the beaten track and scout some\npotential birding hotspots near Harsil. As we were walking from Harsil\nto the small hamlet of Bagori, we found a well-laid trail on our right.\nA little google search revealed that this was the famous Kyarkoti trek,\nthat is relatively unexplored and provides an excellent high-altitude\nvalley trek option for people who want to avoid the crowd at Valley of\nflowers.\nWe found some excellent homestays at Bagori Village. One of the\nhomestay owners quoted about 1500 inr per day per room which included\nbreakfast and dinner. Bagori is an excellent option for people who want\nto experience a traditional homestay experience at a himalayan village.\nThe village is very well-maintained and a must-visit because it is right\nnext to the Bhagirathi river and provides excellent views of the Kalanag\nmountain and is surrounded by apple orchards. I can only imagine, how\nbeautiful this place would look on a moonlit night when apple trees are\nin full blossom.\nThis day we were on the quest to find the Ibisbill, but\nunfrotunately, despite walking back and forth about 12kms we could not\nsight that bird.\nDay3\nView of Harsil from BagoriThis was our last day at Harsil and our cab was to arrive from\nDehradun at 10am to get us back home. We did not waste precious daylight\nand started the morning search for the ibisbill at 7am. By 8am we had\ncrossed the border of Bagori village and on our way to the Jhala\nvillage. We were walking on a ancient trade route that connected\nUttarakhand with Himachal Pradesh. The road was rocky but wide, it\nhugged the bhagirathi as it snaked its way around the mountain. As we\nwere walking down that road, we could not help ourselves wondering how\nmen and animals must have used this road for hundreds of years before\nus. We were having a lively conversation about the beauty of Harsil and\nhow we must visit this place at least once a year. Then suddenly,\nManjari spotted a Ibis bill nesting on a river island. The back plumage\nof the bird was camouflaged by the rounded rocks of the river island.\nKudos to her, we were able to spot it and that truly was the cherry on\ntop of the cake.\nWith the ibis bill deeply etched in our memories, we continued\nwalking down the road, hungry for more rare sightings. The day before we\nhad heard one restaurant owner recount how gorals are a common sight in\nthis area and very easy to spot if one keeps their eyes peeled. While\nManjari was scanning the river bed for more birds, I had my eyes set on\nthe rocky cliffs.\nAs luck would have it, we spotted two gorals\nbrowsing on the steep cliffs above us and thanks to the Nikon P900, we\nalso managed to get some great shots of these majestic bovids. If we had\nmore time, this would have been a great day filled with surprises and\nmissed breakfast and lunch. However we were on the clock. Like the kid\ntrying to mug up outside the examination hall, we tried to spot as many\nbirds, animals, insects as we could. Three days and one trip is just not\nenough to experience Harsil.\nIt was 10am when we started moving back to Harsil, since our cab had\narrived. We had short breakfast and started our journey back, it would\nbe 7pm before we reached home. Harsil, which seemed like a distant place\ntill a few days back, was now etched in our minds. I can close my eyes\nand be there in an instant. As we were heading back we knew, we had to\ncome back for the conversations and sojourns left unfinished.\n\n\n\n",
    "preview": "posts/2022-05-12-harsil-trip/images/greywagtail1.JPG",
    "last_modified": "2022-05-14T01:32:50+05:30",
    "input_file": {}
  },
  {
    "path": "posts/2021-10-21-principal-component-analysis/",
    "title": "Principal component analysis",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "sitendug",
        "url": {}
      }
    ],
    "date": "2021-10-21",
    "categories": [],
    "contents": "\nPrincipal component analysis is a great tool for dimensionality reduction.\n\nRows: 34\nColumns: 8\n$ Name  <chr> \"dynacon\", \"digvijay\", \"tatachem\", \"gail\", \"irfc\", \"NA…\n$ price <dbl> 151.00, 82.70, 1019.00, 151.00, 24.65, 106.20, 576.50,…\n$ PE    <chr> \"17.0899999999999999\", \"18.0700000000000003\", \"48.1599…\n$ PB    <dbl> 3.00, 3.74, 1.79, 1.25, 0.88, 1.87, 3.21, 4.48, 3.47, …\n$ EPS   <dbl> 8.59, 4.52, 20.84, 16.99, 3.62, 8.76, 99.78, 20.18, 59…\n$ div   <chr> \"0.340000000000000036\", \"3.06000000000000005\", \"1\", \"3…\n$ bv    <dbl> 48.94, 21.86, 560.93, 119.77, 27.48, 58.14, 176.42, 76…\n$ ROE   <dbl> 19.71, 18.30, 1.89, 11.98, 13.34, 12.58, 41.31, 21.79,…\n\n\n            price          PE          PB         EPS        div\nprice  1.00000000  0.17075656  0.19966155  0.93968795 -0.2067958\nPE     0.17075656  1.00000000  0.66296248 -0.01412110 -0.4019074\nPB     0.19966155  0.66296248  1.00000000  0.04296642 -0.1644421\nEPS    0.93968795 -0.01412110  0.04296642  1.00000000 -0.1370372\ndiv   -0.20679577 -0.40190742 -0.16444209 -0.13703718  1.0000000\nbv     0.93439570  0.06439211 -0.04773636  0.92138962 -0.2277081\nROE    0.06420251  0.08313222  0.65453361  0.03053478  0.3837937\n               bv         ROE\nprice  0.93439570  0.06420251\nPE     0.06439211  0.08313222\nPB    -0.04773636  0.65453361\nEPS    0.92138962  0.03053478\ndiv   -0.22770807  0.38379370\nbv     1.00000000 -0.16854693\nROE   -0.16854693  1.00000000\n\n\n{\"x\":{\"data\":[{\"x\":[-0.736,26.456],\"y\":[-0.736,26.456],\"text\":\"intercept: 0<br />slope: 1\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[3,3.74,1.79,1.25,0.88,1.87,3.21,4.48,3.47,0.5,1.63,3.27,1.79,6.97,15.55,22.49,3.5,5.17,1.14,1.94,1.08,6.47,25.22,4.99,2.13,6.87,0.88,3.34,5.92,6.87,9.75,17.07,1.78,2.25],\"y\":[19.71,18.3,1.89,11.98,13.34,12.58,41.31,21.79,18.98,10.12,8.5,13.23,22.69,20.54,22.01,27.37,-22.74,6.04,11.97,17.88,20.88,16,46.89,20.95,9.89,19.44,7.63,4.69,9.59,19.44,27.29,29.71,4.13,18.97],\"text\":[\"PB:  3.00<br />ROE:  19.71\",\"PB:  3.74<br />ROE:  18.30\",\"PB:  1.79<br />ROE:   1.89\",\"PB:  1.25<br />ROE:  11.98\",\"PB:  0.88<br />ROE:  13.34\",\"PB:  1.87<br />ROE:  12.58\",\"PB:  3.21<br />ROE:  41.31\",\"PB:  4.48<br />ROE:  21.79\",\"PB:  3.47<br />ROE:  18.98\",\"PB:  0.50<br />ROE:  10.12\",\"PB:  1.63<br />ROE:   8.50\",\"PB:  3.27<br />ROE:  13.23\",\"PB:  1.79<br />ROE:  22.69\",\"PB:  6.97<br />ROE:  20.54\",\"PB: 15.55<br />ROE:  22.01\",\"PB: 22.49<br />ROE:  27.37\",\"PB:  3.50<br />ROE: -22.74\",\"PB:  5.17<br />ROE:   6.04\",\"PB:  1.14<br />ROE:  11.97\",\"PB:  1.94<br />ROE:  17.88\",\"PB:  1.08<br />ROE:  20.88\",\"PB:  6.47<br />ROE:  16.00\",\"PB: 25.22<br />ROE:  46.89\",\"PB:  4.99<br />ROE:  20.95\",\"PB:  2.13<br />ROE:   9.89\",\"PB:  6.87<br />ROE:  19.44\",\"PB:  0.88<br />ROE:   7.63\",\"PB:  3.34<br />ROE:   4.69\",\"PB:  5.92<br />ROE:   9.59\",\"PB:  6.87<br />ROE:  19.44\",\"PB:  9.75<br />ROE:  27.29\",\"PB: 17.07<br />ROE:  29.71\",\"PB:  1.78<br />ROE:   4.13\",\"PB:  2.25<br />ROE:  18.97\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,0,0,1)\",\"opacity\":1,\"size\":5.66929133858268,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\"}},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[3,3.74,1.79,1.25,0.88,1.87,3.21,4.48,3.47,0.5,1.63,3.27,1.79,6.97,15.55,22.49,3.5,5.17,1.14,1.94,1.08,6.47,25.22,4.99,2.13,6.87,0.88,3.34,5.92,6.87,9.75,17.07,1.78,2.25],\"y\":[19.71,18.3,1.89,11.98,13.34,12.58,41.31,21.79,18.98,10.12,8.5,13.23,22.69,20.54,22.01,27.37,-22.74,6.04,11.97,17.88,20.88,16,46.89,20.95,9.89,19.44,7.63,4.69,9.59,19.44,27.29,29.71,4.13,18.97],\"text\":[\"dynacon\",\"digvijay\",\"tatachem\",\"gail\",\"irfc\",\"NALCO\",\"clarchem\",\"hindzinc\",\"JSW\",\"Indianbank\",\"SBIN\",\"HDFC\",\"deccancements\",\"polycab\",\"havells\",\"Asianpaints\",\"tatamotors\",\"tataconsum\",\"NTPC\",\"powergrid\",\"IOC\",\"shreecem\",\"britannia\",\"ITC\",\"tatasteel\",\"wipro\",\"ongc\",\"LT\",\"trident\",\"wipro\",\"infy\",\"mindtree\",\"piramal\",\"galaxybearing\"],\"hovertext\":[\"PB:  3.00<br />ROE:  19.71<br />Name: dynacon\",\"PB:  3.74<br />ROE:  18.30<br />Name: digvijay\",\"PB:  1.79<br />ROE:   1.89<br />Name: tatachem\",\"PB:  1.25<br />ROE:  11.98<br />Name: gail\",\"PB:  0.88<br />ROE:  13.34<br />Name: irfc\",\"PB:  1.87<br />ROE:  12.58<br />Name: NALCO\",\"PB:  3.21<br />ROE:  41.31<br />Name: clarchem\",\"PB:  4.48<br />ROE:  21.79<br />Name: hindzinc\",\"PB:  3.47<br />ROE:  18.98<br />Name: JSW\",\"PB:  0.50<br />ROE:  10.12<br />Name: Indianbank\",\"PB:  1.63<br />ROE:   8.50<br />Name: SBIN\",\"PB:  3.27<br />ROE:  13.23<br />Name: HDFC\",\"PB:  1.79<br />ROE:  22.69<br />Name: deccancements\",\"PB:  6.97<br />ROE:  20.54<br />Name: polycab\",\"PB: 15.55<br />ROE:  22.01<br />Name: havells\",\"PB: 22.49<br />ROE:  27.37<br />Name: Asianpaints\",\"PB:  3.50<br />ROE: -22.74<br />Name: tatamotors\",\"PB:  5.17<br />ROE:   6.04<br />Name: tataconsum\",\"PB:  1.14<br />ROE:  11.97<br />Name: NTPC\",\"PB:  1.94<br />ROE:  17.88<br />Name: powergrid\",\"PB:  1.08<br />ROE:  20.88<br />Name: IOC\",\"PB:  6.47<br />ROE:  16.00<br />Name: shreecem\",\"PB: 25.22<br />ROE:  46.89<br />Name: britannia\",\"PB:  4.99<br />ROE:  20.95<br />Name: ITC\",\"PB:  2.13<br />ROE:   9.89<br />Name: tatasteel\",\"PB:  6.87<br />ROE:  19.44<br />Name: wipro\",\"PB:  0.88<br />ROE:   7.63<br />Name: ongc\",\"PB:  3.34<br />ROE:   4.69<br />Name: LT\",\"PB:  5.92<br />ROE:   9.59<br />Name: trident\",\"PB:  6.87<br />ROE:  19.44<br />Name: wipro\",\"PB:  9.75<br />ROE:  27.29<br />Name: infy\",\"PB: 17.07<br />ROE:  29.71<br />Name: mindtree\",\"PB:  1.78<br />ROE:   4.13<br />Name: piramal\",\"PB:  2.25<br />ROE:  18.97<br />Name: galaxybearing\"],\"textfont\":{\"size\":14.6645669291339,\"color\":\"rgba(0,0,0,1)\"},\"type\":\"scatter\",\"mode\":\"text\",\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":27.8721461187215,\"r\":7.30593607305936,\"b\":41.8264840182648,\"l\":43.1050228310502},\"plot_bgcolor\":\"rgba(235,235,235,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.736,26.456],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"5\",\"10\",\"15\",\"20\",\"25\"],\"tickvals\":[0,5,10,15,20,25],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"5\",\"10\",\"15\",\"20\",\"25\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"PB\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-26.2215,50.3715],\"tickmode\":\"array\",\"ticktext\":[\"-25\",\"0\",\"25\",\"50\"],\"tickvals\":[-25,0,25,50],\"categoryorder\":\"array\",\"categoryarray\":[\"-25\",\"0\",\"25\",\"50\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"ROE\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"1ca2e3787ceef\":{\"intercept\":{},\"slope\":{},\"type\":\"scatter\"},\"1ca2e1c0fd2ca\":{\"x\":{},\"y\":{}},\"1ca2e29b053b6\":{\"x\":{},\"y\":{},\"label\":{}}},\"cur_data\":\"1ca2e3787ceef\",\"visdat\":{\"1ca2e3787ceef\":[\"function (y) \",\"x\"],\"1ca2e1c0fd2ca\":[\"function (y) \",\"x\"],\"1ca2e29b053b6\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}\n\n\n\n",
    "preview": "posts/2021-10-21-principal-component-analysis/principal-component-analysis_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2022-05-12T10:48:00+05:30",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2021-06-29-lets-talk-animal-welfare/",
    "title": "Let's talk animal welfare",
    "description": "Some thoughts about the animal-welfare challenges plaguing the zoo industry",
    "author": [
      {
        "name": "Sitendu Goswami",
        "url": {}
      }
    ],
    "date": "2021-06-29",
    "categories": [
      "animal welfare",
      "Science",
      "zoo biology"
    ],
    "contents": "\n\nContents\nAnimal welfare\nAnimal-human interactions at zoos\nAnimal-human interaction at zoos\nThe argument against animal-human interaction\nMore on my ABS conference 2021 talk\n\n\n\n\n\n\n\n\nFigure 1: Asiatic lion at the biggest ex-situ conservation breeding center\n\n\n\nAnimal welfare\nWelfare is defined by broom as the state of the animal as it tries to cope with its environment. Therefore animal welfare can be seen as the animal tries to adjust to changes in its internal and external.\nAnimal-human interactions at zoos\nI am a animal behaviour biologist, and I have worked for a over a decade at zoos all over India. For my doctoral thesis, I investigated the role of incumbent husbandry protocols, enclosure design and management practices on the welfare of Asiatic lions at the world’s largest conservation breeding centre for the species. Suffice to say that I have some street-cred when it comes to zoos. Despite working for the larger part of my professional academic career at zoos and conservation breeding centres and observing animals, I often find hard to grapple with the concept of zoos in the twenty-first century.\nThe reason is quite simple, zoos at the very basic level are there for the sake of visitors. If the visitors stoppped coming to the zoos tomorrow, there will be no more zoos. Thankfully the same cannot be said about National parks and wildlife sanctuaries. I think it is very apparent that the primary beneficiary of the zoo is the public and not the animals. And yet zoos try to rebrand themselves as ambassadors of conservation, while conveniently forgiving themselves for past indiscretions. If there ever was a single institution that had committed more crimes towards biodiversity and individual animals, zoos would be upper quartile of the top ten miscreants.\nAnimal-human interaction at zoos\nI have published some papers before (Goswami et al. 2020). The first paper published in 2020, talks about how under similar husbandry conditions, animals can have different welfare outcomes. Which brings us to the point about addressing individual variations in zoo-animals and designing husbandry practices to mitigate negative outcomes. In the second paper, we took a more proactive approach and provided some insights on how to improve welfare across different personality types(Goswami et al. 2021). We found that a combined enrichment strategy, viz., wherein several types of enrichment devices are mixed together and targeted to encourage expression of species-typical behaviour patterns. We found that such enrichment interventions when integrated with daily husbandry practices are effective in providing excellent welfare outcomes for all animals. Subjects were found using the enclosure space more consistently and evenly., and suing exploratory behaviours to seek enrichment objects. Even after removing the positive reinforcement, animals kept engaging with the enrichment devices. We found that social play increased among animals. There were some agonistic interactions in the initial stages, which was quickly mitigated by providing enough enrichment devices for all animals housed in an enclosure.\n\n\n\nFigure 2: Asiatic lions interacting with enrichment devices\n\n\n\nWe also found that animals housed in low-complexity enclosures were more likely to suffer premature consequences of poor welfare. Comparatively animals that were housed in complex and large enclosures that afforded them a larger number of withdrawal spaces were more likely to have behaviour welfare indices similar to animals housed in complex enclosures without any visitors. Therefore by providing a complex and large enclosure we can offset the deleterious impacts of visitor disturbance. During our study we also found that Asiatic lions chose to stay as far away as possible from visitors whenever possible.\nSeveral published studies show that close proximity of visitors to captive animals at zoos can have negative\nStudies on welfare impacts of human-animal interaction\nSl no\nTitle\nSpecies\nAuthors\nsample size\nVisitor effect\n1.\nBehaviour and welfare: the visitor effect in captive felids\nFelids\nSuárez, Recuerda, and Arias-de-Reyna (2017)\nNA\nNegative\n2.\nCan Zoos Ever Be Big Enough for Large Wild Animals? A Review Using an Expert Panel Assessment of the Psychological Priorities of the Amur Tiger (*Panthera tigris altaica*) as a Model Species\nAmur tiger\nVeasey (2020)\nNA\nNegative\n3.\nEnvironmental influences on stereotypy and the activity budget of Indian leopards (*Panthera pardus*) in four zoos in Southern India\nLeopard(Panthera leo pardus)\nMallapur, Sinha, and Waran (2005)\nNA\nNegative\n4.\nThe effects of intrinsic enrichment on captive felids\nFelids\nDamasceno et al. (2017)\nNA\nNegative\n5.\nEnvironmental effects on the behavior of zoo-housed lions and tigers, with a case study on the effects of a visual barrier on pacing\nFelids\nBashaw et al. (2007)\nNA\nNegative\n6.\nThe effects of visitor density and intensity on the behaviour of two captive jaguars(Panthera onca).\nFelids\nSellinger and Ha (2005)\nNA\nNegative\n7.\nA case study: The effect of visitors on two captive pumas with respect to the time of the day\nFelids\n\nNA\nNegative\nThe argument against animal-human interaction\nAnimal human interaction is not all bad and can have some beneficial effects, but only if it comes from known individuals. But the animals should not be forced to interact with unknown humans. It is a recipe for disaster. Some zoos nowadays, have started a new discourse to validate the effects of visitor disturbance on animal welfare.\nMore on my ABS conference 2021 talk\n\n\n\n\n\n\n\nBashaw, Meredith J., Angela S. Kelling, Mollie A. Bloomsmith, and Terry L. Maple. 2007. “Environmental Effects on the Behavior of Zoo-Housed Lions and Tigers, with a Case Study of the Effects of a Visual Barrier on Pacing.” Journal of Applied Animal Welfare Science 10 (2): 95–109. https://doi.org/cxk77g.\n\n\nDamasceno, Juliana, Gelson Genaro, Thomas Quirke, Shannen McCarthy, Sean McKeown, and Ruth O’Riordan. 2017. “The Effects of Intrinsic Enrichment on Captive Felids.” Zoo Biology 36 (3): 186–92.\n\n\nGoswami, Sitendu, Shiv Kumari Patel, Riyaz Kadivar, Praveen Chandra Tyagi, Pradeep Kumar Malik, and Samrat Mondol. 2021. “Effects of a Combined Enrichment Intervention on the Behavioural and Physiological Welfare of Captive Asiatic Lions (Panthera Leo Persica).” Applied Animal Behaviour Science 236: 105222. https://doi.org/gjq5dv.\n\n\nGoswami, Sitendu, Praveen C. Tyagi, Pradeep K. Malik, Shwetank J. Pandit, Riyazahmed F. Kadivar, Malcolm Fitzpatrick, and Samrat Mondol. 2020. “Effects of Personality and Rearing-History on the Welfare of Captive Asiatic Lions (Panthera Leo Persica).” PeerJ 8 (February): e8425. https://doi.org/10.7717/peerj.8425.\n\n\nMallapur, Avanti, Anindya Sinha, and Natalie Waran. 2005. “Influence of Visitor Presence on the Behaviour of Captive Lion-Tailed Macaques (Macaca Silenus) Housed in Indian Zoos.” Applied Animal Behaviour Science 94 (3-4): 341–52. https://doi.org/dg295b.\n\n\nSellinger, Rebecca L., and James C. Ha. 2005. “The Effects of Visitor Density and Intensity on the Behavior of Two Captive Jaguars (Panthera Onca).” Journal of Applied Animal Welfare Science 8 (4): 233–44. https://doi.org/c6pkjm.\n\n\nSuárez, P., P. Recuerda, and L. Arias-de-Reyna. 2017. “Behaviour and Welfare: The Visitor Effect in Captive Felids.” Animal Welfare 26 (1): 25–34.\n\n\nVeasey, Jake Stuart. 2020. “Can Zoos Ever Be Big Enough for Large Wild Animals? A Review Using an Expert Panel Assessment of the Psychological Priorities of the Amur Tiger (Panthera Tigris Altaica) as a Model Species.” Animals : An Open Access Journal from MDPI. https://doi.org/gh55dr.\n\n\n\n\n",
    "preview": "posts/2021-06-29-lets-talk-animal-welfare/distill-preview.png",
    "last_modified": "2022-05-12T10:48:00+05:30",
    "input_file": {},
    "preview_width": 1920,
    "preview_height": 1440
  },
  {
    "path": "posts/2021-06-23-data-wranglng-with-r/",
    "title": "Data wrangling with dplyr",
    "description": "Tidyverse suit of packages for R provide some nifty solutions to clean and arrange your data",
    "author": [
      {
        "name": "Sitendu Goswami",
        "url": {}
      }
    ],
    "date": "2021-06-23",
    "categories": [
      "Rstats",
      "Tidyverse"
    ],
    "contents": "\n\nContents\nIntroduction\nBasic components of a R syntax -\nData types in R (Nouns)\nArithmetic operators\nExercise for arithmetic operators\nAssignment operators\nExercise for assignment operators\nRelational operators\nExercise for relational operators\nLogical operators\nExercise for Logical operators\nMiscellaneous operators\nExercise for miscellaneous operators\nData wrangling in R\nThe endless scope and opportunities\n\nTopics\nPipe operators\nPipe operators cont..\nPipe operators help you read and write code from left to right\nWhat to do to understand your data?\nSummarize your data\nglimpse function\nTable function\nChange the class of a variable.\nSelect\nExercise\nRenaming variables\nArranging variables\nSummarize & aggregate 1\nsummarize 2\nSummarize 3 | some other functions\n\n\nIntroduction\nData science as a discipline finds it’s applications across all fields of knowledge. If you are from biological sciences, the amount of statistics in most of the papers, is a testament to this collusion. However statistics and data-science are not the same. You can perform statistical analysis with your calculator, MS Excel or other software.\n\n\nlibrary(tidyverse)\n#install.packages(\"magrittr\")\nlibrary(magrittr)\nlibrary(gapminder)\ngapminder <- as_tibble(gapminder)\ngapminder2 <-  gapminder\ngapminder3 <- gapminder\n\n\n\nBasic components of a R syntax -\nAll programming languages at their very cores, are basically a communication platform between the user and the computer. Since computers understand the binary language, programming languages act as the translating tools which have specific synatx and granmar that help us effectively communicate with our computers and tell it what we want to do. Most programming languages like R have strict grammar that needs to be followed to ensure that the computer understands our commands. Therefore, before embarking on the data science journey we need to understand the rules of communication. At the very base of any sentence is a grammar that includes nouns, verbs, adjectives and punctuation. In the case of R, we can translate these as the following.\nNoun = data\nVerb = function\nOperator = punctuation\nData types in R (Nouns)\nR is a language that can handle a multitude of data types. Data can be single dataframes, vectors, lists or matrices.\n - character: “a”, “swc”  - numeric: 2, 15.5  - integer: 2L (the L tells R to store this as an integer)  - logical: TRUE, FALSE  - complex: 1+4i\nclass: left ## Exercise Data types - class() - what kind of object is it (high-level)? - types() - what is the object’s data type (low-level)? - length() - how long is it? What about two dimensional objects? - attributes() - does it have any metadata?\n\n\nclass(gapminder)\n\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\ntypeof(gapminder$country)\n\n\n[1] \"integer\"\n\nlength(gapminder$continent)\n\n\n[1] 1704\n\nattributes(gapminder$continent)\n\n\n$levels\n[1] \"Africa\"   \"Americas\" \"Asia\"     \"Europe\"   \"Oceania\" \n\n$class\n[1] \"factor\"\n\nclass: left ## Data structures in R There are three major types of Data Structures - Vector - single dimension - Matrix - two dimensional - Array- n-dimensional\n\n\na <- c(1:54)\nclass(a)\n\n\n[1] \"integer\"\n\nclass: left ## Operators in R\nOperators are used to define relationships between variables in R.\nOperators are like punctuations in a sentence.\nDifferent types of operators \nArithmetic \nLogical \nAssignment \nRelation \nMiscellaneous\n\nArithmetic operators\n\nOperator\nDescription\n+\nAddition of two operands\n-\nsubtraction of b from a\n*\nMultiplication\n/\nDivision of a by b\n%%\nRemainder from division of a with b\n%/%\nquotient from division of a and b\n^\na to the power of b\nExercise for arithmetic operators\n\n\n#find the quotient for  23456789 /15432\n23456789 %/% 15432\n\n\n[1] 1520\n\n\n\n# R follows BODMAS rule\n ((12345 + 456789) * (987456/2345678)^212) / 1234568\n\n\n[1] 8.330017e-81\n\nAssignment operators\nOperator\nDescription\n=\nAssigns right side value to left side operand\n<-\nAssigns right side value to left side operand\n->\nAssigns left side value to right side operand\n<<-\nAssigns right side value to left side operand\n->>\nAssigns left side value to right side operand\nExercise for assignment operators\n\n\n# R Operators - R Assignment Operators\na = 2\nprint ( a )\n\n\n[1] 2\n\na <- TRUE\nprint ( a )\n\n\n[1] TRUE\n\n454 -> a\nprint ( a )\n\n\n[1] 454\n\na <<- 2.9\nprint ( a )\n\n\n[1] 2.9\n\nc(6, 8, 9) -> a\nprint ( a )\n\n\n[1] 6 8 9\n\nRelational operators\nOperator\nDescription\n<\nIs first operand less than second operand\n“>”\nIs first operand greater than second operand\n==\nIs first operand equal to second operand\n<=\nIs first operand less than or equal to second operand\n“>=”\nIs first operand greater than or equal to second operand\n“!=”\nIs first operand not equal to second operand\nExercise for relational operators\n\n\na <- 7.5\nb <- 2\nprint( a < b ) # less than\n\n\n[1] FALSE\n\nprint( a > b ) # greater than\n\n\n[1] TRUE\n\nprint( a == b ) # equal to\n\n\n[1] FALSE\n\nprint( a <= b ) # less than or equal to\n\n\n[1] FALSE\n\nprint( a >= b ) # greater than or equal to\n\n\n[1] TRUE\n\nprint( a != b ) # not equal to\n\n\n[1] TRUE\n\nLogical operators\nOperator\nDescription\n&\nElement wise logical AND operation\n?|\nElement wise logical OR operation\n!\nElement wise logical NOT operation.\n&&\nOperand wise logical AND operation.\n| |\nOperand wise logical OR operation.\nExercise for Logical operators\n\n\n# R Operators - R Logical Operators Example for basic logical elements\n \na <- 12 # logical FALSE\nb <- 2 # logical TRUE\n \nprint ( a > 5 & a < 15 ) # logical AND element wise\n\n\n[1] TRUE\n\nprint ( TRUE & FALSE )\n\n\n[1] FALSE\n\nprint ( TRUE | FALSE ) # logical OR element wise\n\n\n[1] TRUE\n\nprint ( !a ) # logical NOT element wise\n\n\n[1] FALSE\n\nprint ( a && b ) # logical AND consolidated for all elements\n\n\n[1] TRUE\n\nprint ( a || b ) # logical OR consolidated for all elements\n\n\n[1] TRUE\n\nMiscellaneous operators\nOperator\nDescription\n%>%\npipe operator\n%in%\nIdentifies if an element(a) belongs to a vector(b)\n:\ncreates series of vectors from left to right\nExercise for miscellaneous operators\n\n\nst <- c(1:234) # create a vector with values from 1 to 234\n# R Operators - R Misc Operators\nprint ( a )\n\n\n[1] 12\n\na = c(25, 27, 76)\nb = 27\nprint( b %in% a ) # check if b is present within a\n\n\n[1] TRUE\n\nprint(a %in% b)\n\n\n[1] FALSE  TRUE FALSE\n\na = gapminder$country\nb = \"Afghanistan\"\nc = \"Congo\"\nprint(c %in% a)\n\n\n[1] FALSE\n\nprint(b %in% a)\n\n\n[1] TRUE\n\nnames(gapminder)\n\n\n[1] \"country\"   \"continent\" \"year\"      \"lifeExp\"   \"pop\"      \n[6] \"gdpPercap\"\n\ngapminder$continent %>% summary()# prints a summary of the factor gapminder$country\n\n\n  Africa Americas     Asia   Europe  Oceania \n     624      300      396      360       24 \n\nData wrangling in R\nThe endless scope and opportunities\nFast\nfilter and subset variables faster than Excel users\n\nReproducible\nOnce you have done it, you can do it again with minimal effort-\nReduces error\nyou can correct a mistake by reading the code\nYou can go back to your original data like nothing happened\n\nTopics\nPipe operators\nSelect\nFilter\nArrange\nMutate\nJoining data\nPivot functions\nPipe operators\n%>% ( ctrl + shift + m)\nit takes whatever is present on the left and uses it to define the function written on the right.\ntraditional R language is read inwards to outwards i.e function 4 (function3(function2(function1(data))))\nPipe operators cont..\n\n\n#example \n#library(gapminder)\n#library(tidyverse)\n\n\n\nPipe operators help you read and write code from left to right\ndata %>% function1 () %>% function(2) %>% function3() %>% function4()\n\n\n#example \n\n\n\n\n\n#library(gapminder)\ngapminder1 <- tbl_df(gapminder)\ngapminder1\n\n\n# A tibble: 1,704 x 6\n   country     continent  year lifeExp      pop gdpPercap\n   <fct>       <fct>     <int>   <dbl>    <int>     <dbl>\n 1 Afghanistan Asia       1952    28.8  8425333      779.\n 2 Afghanistan Asia       1957    30.3  9240934      821.\n 3 Afghanistan Asia       1962    32.0 10267083      853.\n 4 Afghanistan Asia       1967    34.0 11537966      836.\n 5 Afghanistan Asia       1972    36.1 13079460      740.\n 6 Afghanistan Asia       1977    38.4 14880372      786.\n 7 Afghanistan Asia       1982    39.9 12881816      978.\n 8 Afghanistan Asia       1987    40.8 13867957      852.\n 9 Afghanistan Asia       1992    41.7 16317921      649.\n10 Afghanistan Asia       1997    41.8 22227415      635.\n# … with 1,694 more rows\n\nWhat to do to understand your data?\n\n\nnames(gapminder)\n\n\n[1] \"country\"   \"continent\" \"year\"      \"lifeExp\"   \"pop\"      \n[6] \"gdpPercap\"\n\n\n\nstr(gapminder)# investigate the structcure of the dataset\n\n\ntibble [1,704 × 6] (S3: tbl_df/tbl/data.frame)\n $ country  : Factor w/ 142 levels \"Afghanistan\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ continent: Factor w/ 5 levels \"Africa\",\"Americas\",..: 3 3 3 3 3 3 3 3 3 3 ...\n $ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...\n $ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...\n $ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880372 12881816 13867957 16317921 22227415 ...\n $ gdpPercap: num [1:1704] 779 821 853 836 740 ...\n\nSummarize your data\n\n\nsummary(gapminder)\n\n\n        country        continent        year         lifeExp     \n Afghanistan:  12   Africa  :624   Min.   :1952   Min.   :23.60  \n Albania    :  12   Americas:300   1st Qu.:1966   1st Qu.:48.20  \n Algeria    :  12   Asia    :396   Median :1980   Median :60.71  \n Angola     :  12   Europe  :360   Mean   :1980   Mean   :59.47  \n Argentina  :  12   Oceania : 24   3rd Qu.:1993   3rd Qu.:70.85  \n Australia  :  12                  Max.   :2007   Max.   :82.60  \n (Other)    :1632                                                \n      pop              gdpPercap       \n Min.   :6.001e+04   Min.   :   241.2  \n 1st Qu.:2.794e+06   1st Qu.:  1202.1  \n Median :7.024e+06   Median :  3531.8  \n Mean   :2.960e+07   Mean   :  7215.3  \n 3rd Qu.:1.959e+07   3rd Qu.:  9325.5  \n Max.   :1.319e+09   Max.   :113523.1  \n                                       \n\nView(gapminder)\n\n\n\nglimpse function\n\n\nglimpse(gapminder) # from here you can check the class of each variable as well\n\n\nRows: 1,704\nColumns: 6\n$ country   <fct> \"Afghanistan\", \"Afghanistan\", \"Afghanistan\", \"Afgh…\n$ continent <fct> Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, As…\n$ year      <int> 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 19…\n$ lifeExp   <dbl> 28.801, 30.332, 31.997, 34.020, 36.088, 38.438, 39…\n$ pop       <int> 8425333, 9240934, 10267083, 11537966, 13079460, 14…\n$ gdpPercap <dbl> 779.4453, 820.8530, 853.1007, 836.1971, 739.9811, …\n\nTable function\n\n\ntable(gapminder$country)# count the number of times \n\n\n\n             Afghanistan                  Albania \n                      12                       12 \n                 Algeria                   Angola \n                      12                       12 \n               Argentina                Australia \n                      12                       12 \n                 Austria                  Bahrain \n                      12                       12 \n              Bangladesh                  Belgium \n                      12                       12 \n                   Benin                  Bolivia \n                      12                       12 \n  Bosnia and Herzegovina                 Botswana \n                      12                       12 \n                  Brazil                 Bulgaria \n                      12                       12 \n            Burkina Faso                  Burundi \n                      12                       12 \n                Cambodia                 Cameroon \n                      12                       12 \n                  Canada Central African Republic \n                      12                       12 \n                    Chad                    Chile \n                      12                       12 \n                   China                 Colombia \n                      12                       12 \n                 Comoros         Congo, Dem. Rep. \n                      12                       12 \n             Congo, Rep.               Costa Rica \n                      12                       12 \n           Cote d'Ivoire                  Croatia \n                      12                       12 \n                    Cuba           Czech Republic \n                      12                       12 \n                 Denmark                 Djibouti \n                      12                       12 \n      Dominican Republic                  Ecuador \n                      12                       12 \n                   Egypt              El Salvador \n                      12                       12 \n       Equatorial Guinea                  Eritrea \n                      12                       12 \n                Ethiopia                  Finland \n                      12                       12 \n                  France                    Gabon \n                      12                       12 \n                  Gambia                  Germany \n                      12                       12 \n                   Ghana                   Greece \n                      12                       12 \n               Guatemala                   Guinea \n                      12                       12 \n           Guinea-Bissau                    Haiti \n                      12                       12 \n                Honduras         Hong Kong, China \n                      12                       12 \n                 Hungary                  Iceland \n                      12                       12 \n                   India                Indonesia \n                      12                       12 \n                    Iran                     Iraq \n                      12                       12 \n                 Ireland                   Israel \n                      12                       12 \n                   Italy                  Jamaica \n                      12                       12 \n                   Japan                   Jordan \n                      12                       12 \n                   Kenya         Korea, Dem. Rep. \n                      12                       12 \n             Korea, Rep.                   Kuwait \n                      12                       12 \n                 Lebanon                  Lesotho \n                      12                       12 \n                 Liberia                    Libya \n                      12                       12 \n              Madagascar                   Malawi \n                      12                       12 \n                Malaysia                     Mali \n                      12                       12 \n              Mauritania                Mauritius \n                      12                       12 \n                  Mexico                 Mongolia \n                      12                       12 \n              Montenegro                  Morocco \n                      12                       12 \n              Mozambique                  Myanmar \n                      12                       12 \n                 Namibia                    Nepal \n                      12                       12 \n             Netherlands              New Zealand \n                      12                       12 \n               Nicaragua                    Niger \n                      12                       12 \n                 Nigeria                   Norway \n                      12                       12 \n                    Oman                 Pakistan \n                      12                       12 \n                  Panama                 Paraguay \n                      12                       12 \n                    Peru              Philippines \n                      12                       12 \n                  Poland                 Portugal \n                      12                       12 \n             Puerto Rico                  Reunion \n                      12                       12 \n                 Romania                   Rwanda \n                      12                       12 \n   Sao Tome and Principe             Saudi Arabia \n                      12                       12 \n                 Senegal                   Serbia \n                      12                       12 \n            Sierra Leone                Singapore \n                      12                       12 \n         Slovak Republic                 Slovenia \n                      12                       12 \n                 Somalia             South Africa \n                      12                       12 \n                   Spain                Sri Lanka \n                      12                       12 \n                   Sudan                Swaziland \n                      12                       12 \n                  Sweden              Switzerland \n                      12                       12 \n                   Syria                   Taiwan \n                      12                       12 \n                Tanzania                 Thailand \n                      12                       12 \n                    Togo      Trinidad and Tobago \n                      12                       12 \n                 Tunisia                   Turkey \n                      12                       12 \n                  Uganda           United Kingdom \n                      12                       12 \n           United States                  Uruguay \n                      12                       12 \n               Venezuela                  Vietnam \n                      12                       12 \n      West Bank and Gaza              Yemen, Rep. \n                      12                       12 \n                  Zambia                 Zimbabwe \n                      12                       12 \n\nChange the class of a variable.\n\n\nclass(gapminder$country)\n\n\n[1] \"factor\"\n\ngapminder$country <- as.character(gapminder$country)\n\n\n\nSelect\nyou have a dataset with lots of variables\nYou want to select only a few variables to work with\nYou can select a certain number of columns with this function\n\n\nglimpse(gapminder)\n\n\nRows: 1,704\nColumns: 6\n$ country   <chr> \"Afghanistan\", \"Afghanistan\", \"Afghanistan\", \"Afgh…\n$ continent <fct> Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, As…\n$ year      <int> 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 19…\n$ lifeExp   <dbl> 28.801, 30.332, 31.997, 34.020, 36.088, 38.438, 39…\n$ pop       <int> 8425333, 9240934, 10267083, 11537966, 13079460, 14…\n$ gdpPercap <dbl> 779.4453, 820.8530, 853.1007, 836.1971, 739.9811, …\n\ngapminder %>% select(continent:gdpPercap) %>% glimpse()\n\n\nRows: 1,704\nColumns: 5\n$ continent <fct> Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, As…\n$ year      <int> 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 19…\n$ lifeExp   <dbl> 28.801, 30.332, 31.997, 34.020, 36.088, 38.438, 39…\n$ pop       <int> 8425333, 9240934, 10267083, 11537966, 13079460, 14…\n$ gdpPercap <dbl> 779.4453, 820.8530, 853.1007, 836.1971, 739.9811, …\n\ngapminder1\n\n\n# A tibble: 1,704 x 6\n   country     continent  year lifeExp      pop gdpPercap\n   <fct>       <fct>     <int>   <dbl>    <int>     <dbl>\n 1 Afghanistan Asia       1952    28.8  8425333      779.\n 2 Afghanistan Asia       1957    30.3  9240934      821.\n 3 Afghanistan Asia       1962    32.0 10267083      853.\n 4 Afghanistan Asia       1967    34.0 11537966      836.\n 5 Afghanistan Asia       1972    36.1 13079460      740.\n 6 Afghanistan Asia       1977    38.4 14880372      786.\n 7 Afghanistan Asia       1982    39.9 12881816      978.\n 8 Afghanistan Asia       1987    40.8 13867957      852.\n 9 Afghanistan Asia       1992    41.7 16317921      649.\n10 Afghanistan Asia       1997    41.8 22227415      635.\n# … with 1,694 more rows\n\nExercise\nselect only columns “country” and “year”and “gdpPercap”\n\n\ngapminder %>%  select(c(country, year, gdpPercap)) %>%  glimpse()\n\n\nRows: 1,704\nColumns: 3\n$ country   <chr> \"Afghanistan\", \"Afghanistan\", \"Afghanistan\", \"Afgh…\n$ year      <int> 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 19…\n$ gdpPercap <dbl> 779.4453, 820.8530, 853.1007, 836.1971, 739.9811, …\n\ngapminder$year <- as.integer(gapminder$year)\n\nstr(gapminder)\n\n\ntibble [1,704 × 6] (S3: tbl_df/tbl/data.frame)\n $ country  : chr [1:1704] \"Afghanistan\" \"Afghanistan\" \"Afghanistan\" \"Afghanistan\" ...\n $ continent: Factor w/ 5 levels \"Africa\",\"Americas\",..: 3 3 3 3 3 3 3 3 3 3 ...\n $ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...\n $ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...\n $ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880372 12881816 13867957 16317921 22227415 ...\n $ gdpPercap: num [1:1704] 779 821 853 836 740 ...\n\nRenaming variables\n\n\n#gapminder <-  rename(gapminder,c(gdp = \"gdp\"))\nnames(gapminder)\n\n\n[1] \"country\"   \"continent\" \"year\"      \"lifeExp\"   \"pop\"      \n[6] \"gdpPercap\"\n\nArranging variables\nThe arrange function helps you reorder the variables\n\n\nlibrary(gapminder)\ngapminder <- arrange(gapminder,(year))\nglimpse(gapminder)\n\n\nRows: 1,704\nColumns: 6\n$ country   <chr> \"Afghanistan\", \"Albania\", \"Algeria\", \"Angola\", \"Ar…\n$ continent <fct> Asia, Europe, Africa, Africa, Americas, Oceania, E…\n$ year      <int> 1952, 1952, 1952, 1952, 1952, 1952, 1952, 1952, 19…\n$ lifeExp   <dbl> 28.801, 55.230, 43.077, 30.015, 62.485, 69.120, 66…\n$ pop       <int> 8425333, 1282697, 9279525, 4232095, 17876956, 8691…\n$ gdpPercap <dbl> 779.4453, 1601.0561, 2449.0082, 3520.6103, 5911.31…\n\nView(gapminder)\ngapminder  %>%  arrange(year) %>%  glimpse()\n\n\nRows: 1,704\nColumns: 6\n$ country   <chr> \"Afghanistan\", \"Albania\", \"Algeria\", \"Angola\", \"Ar…\n$ continent <fct> Asia, Europe, Africa, Africa, Americas, Oceania, E…\n$ year      <int> 1952, 1952, 1952, 1952, 1952, 1952, 1952, 1952, 19…\n$ lifeExp   <dbl> 28.801, 55.230, 43.077, 30.015, 62.485, 69.120, 66…\n$ pop       <int> 8425333, 1282697, 9279525, 4232095, 17876956, 8691…\n$ gdpPercap <dbl> 779.4453, 1601.0561, 2449.0082, 3520.6103, 5911.31…\n\ngapminder %>%  arrange(desc(year)) %>%  glimpse()\n\n\nRows: 1,704\nColumns: 6\n$ country   <chr> \"Afghanistan\", \"Albania\", \"Algeria\", \"Angola\", \"Ar…\n$ continent <fct> Asia, Europe, Africa, Africa, Americas, Oceania, E…\n$ year      <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 20…\n$ lifeExp   <dbl> 43.828, 76.423, 72.301, 42.731, 75.320, 81.235, 79…\n$ pop       <int> 31889923, 3600523, 33333216, 12420476, 40301927, 2…\n$ gdpPercap <dbl> 974.5803, 5937.0295, 6223.3675, 4797.2313, 12779.3…\n\nSummarize & aggregate 1\nsuppose you want to see the average gdp per capita of each continent as a data frame.\n\n\ngapminder %>% group_by(continent, year) %>% glimpse()\n\n\nRows: 1,704\nColumns: 6\nGroups: continent, year [60]\n$ country   <chr> \"Afghanistan\", \"Albania\", \"Algeria\", \"Angola\", \"Ar…\n$ continent <fct> Asia, Europe, Africa, Africa, Americas, Oceania, E…\n$ year      <int> 1952, 1952, 1952, 1952, 1952, 1952, 1952, 1952, 19…\n$ lifeExp   <dbl> 28.801, 55.230, 43.077, 30.015, 62.485, 69.120, 66…\n$ pop       <int> 8425333, 1282697, 9279525, 4232095, 17876956, 8691…\n$ gdpPercap <dbl> 779.4453, 1601.0561, 2449.0082, 3520.6103, 5911.31…\n\ngapminder %>% group_by(continent, year) %>% summarise(meangdp = mean(gdpPercap, na.rm = TRUE)) %>%  print()\n\n\n# A tibble: 60 x 3\n# Groups:   continent [5]\n   continent  year meangdp\n   <fct>     <int>   <dbl>\n 1 Africa     1952   1253.\n 2 Africa     1957   1385.\n 3 Africa     1962   1598.\n 4 Africa     1967   2050.\n 5 Africa     1972   2340.\n 6 Africa     1977   2586.\n 7 Africa     1982   2482.\n 8 Africa     1987   2283.\n 9 Africa     1992   2282.\n10 Africa     1997   2379.\n# … with 50 more rows\n\nsummarize 2\nHow do we change this into a data frame?\nUse the assign operator.\n\n\nnew <- gapminder %>% group_by(continent, year) %>%\n  summarise(meangdp = mean(gdpPercap, na.rm = TRUE)) %>% print()\n\n\n# A tibble: 60 x 3\n# Groups:   continent [5]\n   continent  year meangdp\n   <fct>     <int>   <dbl>\n 1 Africa     1952   1253.\n 2 Africa     1957   1385.\n 3 Africa     1962   1598.\n 4 Africa     1967   2050.\n 5 Africa     1972   2340.\n 6 Africa     1977   2586.\n 7 Africa     1982   2482.\n 8 Africa     1987   2283.\n 9 Africa     1992   2282.\n10 Africa     1997   2379.\n# … with 50 more rows\n\nnew\n\n\n# A tibble: 60 x 3\n# Groups:   continent [5]\n   continent  year meangdp\n   <fct>     <int>   <dbl>\n 1 Africa     1952   1253.\n 2 Africa     1957   1385.\n 3 Africa     1962   1598.\n 4 Africa     1967   2050.\n 5 Africa     1972   2340.\n 6 Africa     1977   2586.\n 7 Africa     1982   2482.\n 8 Africa     1987   2283.\n 9 Africa     1992   2282.\n10 Africa     1997   2379.\n# … with 50 more rows\n\n\nSummarize 3 | some other functions\nHow many unique countries does the data contain by continent?\n\n\ngapminder %>%\ngroup_by(continent) %>%\nsummarize(n_obs = n(), n_countries = n_distinct(country)) %>%  print()\n\n\n# A tibble: 5 x 3\n  continent n_obs n_countries\n  <fct>     <int>       <int>\n1 Africa      624          52\n2 Americas    300          25\n3 Asia        396          33\n4 Europe      360          30\n5 Oceania      24           2\n\nDistill is a publication format for scientific and technical writing, native to the web.\nLearn more about using Distill at https://rstudio.github.io/distill.\n\n\n\n",
    "preview": {},
    "last_modified": "2022-05-12T10:48:00+05:30",
    "input_file": {}
  },
  {
    "path": "posts/2021-06-23-plotting-with-ggplot2-part1/",
    "title": "Plotting with ggplot2 part1",
    "description": "The basics of ggplot library for data visualization in r",
    "author": [
      {
        "name": "Sitendu Goswami",
        "url": {}
      }
    ],
    "date": "2021-06-23",
    "categories": [
      "Rstats",
      "Tidyverse"
    ],
    "contents": "\nWhat is ggplot and why you need it ?\nggplot is one of the biggest trump cards of tidyverse that along with tidyr, dplyr, and other packages, provides the perfect tool to complete your data science workflow. ggplot allows you to build simple graphs and create layers that stack one on top of the other, to create more complicated and interesting visualizations. for data science teams that use MS Excel or other point and click interfaces to generate graphs and data visualizations, ggplot offers the perfect way to optimize the workflow and reduce the redundancy in data workflows. If you have to create the same graph every month based on updated data, ggplot(r, python or any other data science based programming approaches)\nThe basic structure of a ggplot\nYou can do a lot of things with ggplot. ggplot follows thae grammar of graphics, hence there is a logic behind everything and if you get the underlying logc, you can create any plot you want (Wickham 2016). At the base of everything lies the aesthetic mapping. which is basically the framework for the plot. The aes() argument tells the ggplot engine, where to look for the x or y variables, and the grouping variables. The next argument that we get is the “geom” , which defines the type of the plot you are looking for. It stands to reason that each geom should have a aesthetic mapped to it. In case you see a geom, where no aesthetic has been specified, it means that this geom inherits the aesthetic mapping from the base plot. If you want to create a basic plot, you should be ok with only mapping the aes and the geom argument. On the other hand, if you are looking to create something very specific the next set of functions will be helpful.\n\n\n#ggplot2::ggplot(data, aes(x = iv, y = dv, fill = category)) + geom_line()\nplot<- mtcars |>\n  ggplot(aes(x = gear, y = mpg)) # you can see that this creates nothing but it creates the canvas for your plot\nplot <- plot + \n  geom_col() # so when we add the geom_col() argument we get the plot\nplot\n\n\n\n\nLegend and axis titles\nThe plot that we created in the previous section, works if you are in a hurry. But if you want to show-off your visualization skills to peers, then you will probably need to beautify the plot a bit. First and foremost, we need to edit the axis, title and the labels so that they look clean. For that we can use the “labs” function to specify the title, x and y axis names, you can also specify the legend title by adding the same to your “labs” function.\n\n\n\nGrouping variables\nIn a traditional plot, you can have one or two variables, which you can define using the ‘aes’ function. What happens when you have a couple more grouping variables and your data is nested within the same. Take the case of the mtcars dataset. If you are happy with just plotting the mpg of cars with different gears, that’s fine. Or you can also explore if the number of cylinders has a role to play in the fuel efficiency figures. There are a couple of ways of going about it. The first way is to add a grouping variable in the aesthetics argument.\n\n\n\nIf you do not like the stacked bar chart, you can use the position = “dodge” argument to create a multiple bar chart\n\n\n\nColouring your plots\nYou can select colours for your plots. Colours are essential to communicate your visualization effectively. “scale_fill” is the group of commands you need to master, if you are looking to get soem control over the color palette of the graph. You can also specify the colour of your plot within each of the geom arguments.\n\n\n\nCompare stats with ggpubr\nSet up themes\n\n\n\nWickham, Hadley. 2016. Ggplot2: Elegant Graphics for Data Analysis. Springer. https://ggplot2.tidyverse.org.\n\n\n\n\n",
    "preview": "posts/2021-06-23-plotting-with-ggplot2-part1/plotting-with-ggplot2-part1_files/figure-html5/unnamed-chunk-1-1.png",
    "last_modified": "2022-05-12T10:48:00+05:30",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2021-06-22-advantages-of-r-for-data-science/",
    "title": "Advantages of R for data science",
    "description": "Why all data science teams use R, and why you should too",
    "author": [
      {
        "name": "Sitendu Goswami",
        "url": {}
      }
    ],
    "date": "2021-06-22",
    "categories": [
      "Rstats",
      "Tidyverse"
    ],
    "contents": "\n\nContents\nWhy R?\nData science and analytics\n\n\nWhy R?\nFor most people in academia, R is nothing new. However for programmers and computer science graduates, who feel more comfortable with python and other programming languages. Like in every field of work, academicians also require some basic toolsets to hone their skills. These tools not only help them work more efficiently but also allow room for collaboration. In the twentyfirst century, academicians need to have some working knowledge of the command line along with proficiency in R, Latex, and Python. Latex has been a staple formatting and documenting language for academcians for more than three decades. However, with the advent of rmarkdown and packages such as bookdown, packagedown, there is a tangible shift happening in that area. Moreover, Latex is proficient in creating pdfs but the world has moved on from pdf to html and web interfaces and this is where R shines.\nSo if you care about sharing your work with your peers and funding agencies, it will make sense to learn a bit of R.\nData science and analytics\nThere is a difference between data science and data analytics. And there is this twilight zone where all of them intersect. If you look at any modern data science team, you are likely to find a group of language agnostic people who are just as comfortable at using R or python as creating custom macros on MS excel. Truth is, nowadays, data science teams are no longer stuck in the back offices, they are part of the decision-making processes at all levels of functioning of an enterprise. Hence they need to have the necessary tools to understand and address interfacing issues across all departments of the organization\n\n\n\n",
    "preview": {},
    "last_modified": "2022-05-12T10:48:00+05:30",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome",
    "description": "Welcome to our new blog, on data science. We hope you enjoy \nreading what we have to say!",
    "author": [
      {
        "name": "Sitendu Goswami",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-06-22",
    "categories": [],
    "contents": "\n\n\n\n\n\n\n",
    "preview": {},
    "last_modified": "2022-05-12T10:48:00+05:30",
    "input_file": {}
  }
]
